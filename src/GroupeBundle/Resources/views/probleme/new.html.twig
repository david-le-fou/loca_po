{% extends 'base.html.twig' %}

{% block titre %}Signaler un problème{% endblock %}
{% block titre_page %} <strong class="text-danger">Signaler un problème</strong> {% endblock %}
{% block titre_description %}Signalement d'un problème de groupe{% endblock %}
{% block body %}

    <div class="row">
        <div class="col-md-6">
            <div class="box">

                <div class="box-header with-border">
                    <h3 class="box-title"><i class="fa fa-warning"></i> Formulaire de signalement</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <form action="#" method="post" autocomplete="off">

                        <div class="form-group">
                            <label for="numero">Numero: <b class="text-danger" id="err_numero"></b></label>
                            <input required readonly type="text" class="form-control" name="numero" id="numero" value="{{ numero }}" />
                        </div>

                        <div class="form-group">
                            <label for="groupe">Groupe concerné: <b class="text-danger" id="err_groupe"></b></label>
                            <select required class="form-control" name="groupe" id="groupe">
                                <option value="" selected></option>
                                {% for groupe in listeGroupe %}
                                    <option value="{{ groupe.id }}">{{ groupe.numero }} - {{ groupe.site.emplacement }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="date">Date: <b class="text-danger" id="err_date"></b></label>
                            <input required type="text" class="form-control" name="date" id="date"  />
                        </div>

                        <div class="form-group">
                            <label for="motif">Motif: <b class="text-danger" id="err_motif"></b></label>
                            <input required type="text" class="form-control" name="motif" id="motif"  />
                        </div>

                        <div class="form-group">
                           <label for="description">Description du problème: <b class="text-danger" id="err_description"></b></label>
                           <textarea required  class="form-control" name="description" id="description" rows="4"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="signalerArret" class="text-danger">- Signaler le groupe comme arrêter (Indisponible):  <b class="text-danger" id="err_signalerArret"></b></label>
                            <input type="checkbox"  name="signalerArret" id="signalerArret"  />
                        </div>


                        <br>
                        <div class="row">
                            <div class="col-md-6">
                                <input type="submit" value="Signaler" class="btn btn-danger btn-block" />
                            </div>
                            <div class="col-md-6">
                                <a href="{{ path('probleme_index') }}" class="btn btn-default btn-block">Annuler</a>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

    {#   --------------------- SCRIPT SELECT 2 ---------------------  #}

    <script>
        $('#groupe').select2();
    </script>


    <script>
        //Date picker
        $('#date').datepicker({
            autoclose: true,
            format: 'dd/mm/yyyy',
        });
        $('#date').datepicker('update', new Date());
    </script>

{% endblock %}
